<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Authentication Required</title>
    <!-- Link the main stylesheet -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        /* Add specific styles for the login page */
        html, body {
             /* Ensure flex setup from base style.css is applied */
            display: flex;
            justify-content: center; /* Center content vertically */
            align-items: center; /* Center content horizontally */
            min-height: 100vh; /* Ensure body takes full height */
            flex-direction: column; /* Ensure direction if needed */
        }
        .terminal-login-box {
            /* Style this like the terminal container */
            width: 90%;
            max-width: 700px; /* Slightly wider maybe */
            padding: 30px;
            border: 1px solid #00FF00;
            background-color: #000;
            color: #00FF00; /* Default text color */
            text-align: center;
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.3); /* Add a subtle glow */
        }
        .terminal-login-box h1 {
            color: #00FF00;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
            border-bottom: 1px dashed #00FF00;
            padding-bottom: 10px;
        }
         .terminal-login-box p {
            color: #00FF00;
            margin-bottom: 25px;
            line-height: 1.6;
        }
        .terminal-login-box small {
            color: #00aa00; /* Slightly dimmer green for less important text */
        }
        /* Style the link like the theme's button */
        a.terminal-button {
            display: inline-block; /* Allow padding/margin */
            padding: 10px 20px;
            margin-top: 10px;
            background-color: #000000;
            color: #00FF00;
            border: 1px solid #00FF00;
            border-radius: 0;
            cursor: pointer;
            font-size: 1em;
            font-family: 'Courier New', Courier, monospace;
            transition: background-color 0.2s ease, color 0.2s ease;
            text-transform: uppercase;
            text-decoration: none; /* Remove underline from link */
        }
        a.terminal-button:hover {
            background-color: #003300;
            color: #99FF99;
        }

        /* Style flash messages */
        .flashes {
            margin-bottom: 20px;
            width: 100%; /* Take full width of the box */
        }
        .alert {
            padding: 10px 15px;
            border: 1px dashed #00FF00; /* Dashed green border */
            border-radius: 0;
            margin-bottom: 10px;
            background-color: #001a00; /* Very dark green background */
            color: #00FF00; /* Bright green text */
            text-align: left; /* Align text left within flash */
            font-size: 0.9em;
        }
        /* Optional: Different border styles for categories */
        .alert-warning { border-style: solid; border-color: #ffff00; color: #ffff00; background-color: #333300; } /* Yellowish */
        .alert-danger { border-style: solid; border-color: #ff0000; color: #ff0000; background-color: #330000; } /* Reddish */
        .alert-info { border-style: dashed; border-color: #00ffff; color: #00ffff; background-color: #003333;} /* Cyanish */
        .alert-success { border-style: solid; border-color: #00FF00; color: #00FF00; background-color: #003300;} /* Green */

    </style>
</head>
<body>
    <div class="terminal-login-box">
        <!-- Flash messages section -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="flashes">
                {% for category, message in messages %}
                    <!-- Use category for potential different styling later -->
                    <div class="alert alert-{{ category }}">> {{ message }}</div>
                {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        <h1>// Authentication Required //</h1>
        <p>> Access Denied. Security clearance needed.</p>
        <p>> Please authenticate via Zero Trust Session Manager.</p>
        <p>
            <!-- Apply terminal button style to the link -->
            <a href="{{ session_init_url }}" class="terminal-button" target="_blank">[ Authenticate / Start Session ]</a>
        </p>
        <p><small>> Redirecting to secure channel...</small></p>
        {% if next_url %}
            <p><small>> Target resource lock: {{ next_url }}</small></p>
        {% endif %}
    </div>
</body>
</html>